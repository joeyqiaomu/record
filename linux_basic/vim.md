
# **<font color=Red> VIM**
```
vim 纯文本编辑器：
	   模式化的编辑器：
	        基本模式：
			    编辑模式or命令模式
				输入模式，
			    末端模式，
				      内置的命令行接口
		vim [options] [file ..]
            +#，打开文件后，直接让光标处于第#行的行首
			      vim +4 fstab
			+/pattern：打开文件后，直接让光标处于第一个被pattern匹配的行首
			      vim +/"UUID" fstab
		模式转换：
		    命令模式：打开文件的默认模式
			   命令模式-->输入模式，
			       i:insert 在光标所在处
				   a:append ：在光标所在处后方输入
				   o:在光标所在处下一行打开的一个新行
				   I:在光标所在处的行首插入
				   A:在光标所在处的行尾插入
			       O:在光标所在上一行处打开的一个新行
				 编辑模式-->末行模式
				 !
			关闭文件
		    ZZ 保存。在编辑模式
			:q or q！
			:wq 保存并推出
			:x 保存并推出
			w path/to/somefile 另存为
光标跳转调整：
	    字符间跳转
		      h,l,k,j 左右上下
			  #COMAMD :跳转有#指定的个数的字符 例如，10h，10l等
		单词间跳转
		     w：下一个单词的词首
			 b：当前词首或前一个单词的词首
			 e：当前词首或后一个单词的词首
			 COMAMD :跳转有#指定的个数的单词 例如，10w，10e等
		行首行尾跳转
		      ^: 跳转行首的第一个非空白字符
			  0：跳转至行首
			  $: 跳转至行尾
		行间跳转
		      #G：：跳转至第#行
			  1G or gg ：跳转至第一个行
			  G : 跳转至最后行
		句间跳转
		     )
			 (
		段间跳转
		     }
			 }
	    翻屏：
		   ctrl + f 向文件尾部翻一屏
		   ctrl + b 向文件首部翻一屏
		   ctrl + d 向文件尾部翻半屏
		   ctrl + u 向文件首部翻半屏
		   enter 按行向后翻屏

	vim的编辑命令：
		   字符编辑
		       x： 删除光标所在处的字符
			   #x：删除光标所在处起始的#字符
			   xp：交换光标出所在处的字符以及后面的字符所在的位置
		   替换命令（replease）
		       r CHAR : 用CHAR替换光标所在处的字符
		   删除命令
		       d： 删除命令，可结合光标跳转字符，实现范围删除
			   d$: 删除光标所在处到行尾
			   d^: 删除光标所在处到行首

			   dw: 删除光标所在处到下一个单词
			   db：
			   de：
			      #command：#dw #d^
				dd：删除广播所在行的整行
				  #dd：删除广播所在处起始的共n行
		   粘贴命令(p paste):
		        p : (小写) 缓冲区的内容如果为整行，则粘贴当前光标所在处的下方
				     否则：则粘贴至当前所在处的后方
				P： (大写)缓冲区的内容如果为整行，则粘贴当前光标所在处的上方
				     否则：则粘贴至当前所在处的前方
		   复制命令（yank）
		        y：复制，可结合光标跳转字符，实现范围删除 （工作行为相似于d命令）
				y$ 删除光标所在处到行尾
				y^ 删除光标所在处到行首
				y0 删除光标所在处到行首

				ye
				yw
			       #command：#yw #y^
				yy：复制广播所在行的整行
				  #yy：复制广播所在处起始的共n行
		    改变命令（chang c）
			    实现删除操作，同时有编辑模式转换为输入模式，
				c$
				c^
				c0

				ce
				cw
			      #command：#cw #c^
				cc：删除广播所在行的整行，并转换为输入模式
				  #cc：删除广播所在处起始的共n行，并转换为输入模式
		 其他编辑操作;
			可视化模式
			  v：按字符选定
			  V: 按行选定
			   结合编辑命令使用，d c y

			 撤销操作：
			   u：撤销此前的操作
				#u 撤销此前的#个操作
			 撤销此前的撤销：
			   ctrl + r
			 重复执行前一个编辑操作
		      .
		 vimtutor VIM自带的教程

	vim 末行模式 （输入冒号：进入末行）
	    内建的命令接口：
		(1)地址定界
		  start_pos[,end_pos]
		     #: 特定的第#行，例如5 即第5行
				 .# 当前行
				 $# 最后一行
			 #,#:指定行范围，左侧为起始行，右侧为结束行
			 #，+#：指定行范围，左侧为起始行绝对编号，右侧为相对左侧行号的便宜量，例如3，+7
			 %：全文
			 /pattern/ :从光标所在处起始向文件末尾第一次被模式所匹配到的行
			    /patten/,$
			 /pat1/,/pat2/  从光标所在处起始向文件末尾第一次被/pat1/模式到第一次被/pat2/所匹配到的行
			 可编辑命令一同使用，实现编辑操作：
			   d ，y，c
			   w /path/to/somefile ：将范围内的文件保存指定文件中，
			   r /path/to/somefile:  将指定文件中的文本读取并插入到指定位置（文件合并）
		(2) 查找：
		    /pattern:  从当前光标所在处向文件尾部查找能被当前模式所匹配到的所有字符串
			？pattern  从当前光标所在处向文件首部查找能被当前模式所匹配到的所有字符串
			    n :下一个，于命令相同
				N :上一个，与命令相反
		(3) 查找并替换
		   s：末行模式的命令：使用格式
		      s/查找的内容/替换为内容/修饰符：s@查找的内容@替换为内容@g or s#@查找的内容#替换为内容#g
			     查找的内容：可使用正则表达式
				 替换为内容：不能使用正则表达式，但可以引用
				    如果要”查找的内容“部分在模式中使用分组符号：在“替换为的内容”中使用后引用。
					直接可引用查找模式匹配到的全部文本 y要使用&
					修饰符：
					  |；忽略大小写
					  g：全局替换，意味着一行如果匹配到多洗，则均替换
					事例：
		            %s@\<t\([[:alpha:]]\+\)@T\1@g
					%s#\<t[[:alpha:]]\+\>#&er@g --所有以t开头的单词都要加上er
					%s@^#@@g
			练习：
			    1 复制/etc/grun2.cfg 至/tmp目录中，用查找替换命令删除/tmp/grun2.cfg文件中以空白字符开头的行的行首的空白字符
				   %s/^[[:space:]]\+//g
				2 复制/etc/rc.d/init.d/functions文件 至/tmp目录中，用查找替换命令删除/tmp/functions文件中每个以空白字符开头的行的行首加上#
		           %s@^[[:space:]]\+[^[:space:]]@#&@g
				3为/tmp/grun2.cfg文件的前三行的行首加上#号；
				    1,3s@^[[:space:]]\+[^[:space:]]@#&@g
				4 将/etc/yum/repos.d/Centos-base.repo文件中所有的enable=0替换为enable=1，所有的gpgcheck=0替换为gegcheck=1
				   %s@\(enable\|pgpcheck\)=0@\1=1@g
	多文件显示：
	    vim file1 file3
		大文件间切换：
		  ：next
		  ：prev
		  ：first
		  ：last
		推出所有文件
		：wqall 保存所有文件退出
		：wall
			：qwall
		多窗口：vim -o file1 file2 file3
		-o: 水平分隔窗口
		-O：垂直分隔窗口
		  在窗口间切换，ctrl+w，arrow
		  单个文件也可以分隔多个窗口进行查看：
		  ctrl+w，s  水平分隔窗口
		  ctrl+w，v  垂直分隔窗口
	定制vim的工作特性：
	    注意末行模式下的设定，仅对当前vim进程有效
		永久有效：
		   全局：/etc/vimrc
		   用户个人:./vimrc
	   1，行号
	         显示：set number，（set nu）
	   2，括号匹配高亮：
	       匹配 ：set showmatch ,set sm
		   取消 ：set nosm
        3，自动缩进
		    set ai，set noai
		4 高亮搜索
		   set hlsearch ，set nohiserach
		5 语法高亮
		   syntax on ，syntax off
		6 忽略字符大小写
		   set lc ，set nolc
	 获取模式：
	    ：help
		：help subject
	课外作用：如何设置tab缩进4个字符

```
